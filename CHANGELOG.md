# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

---

## [3.1.0] - 2026-01-28

### 🚀 Feature Release - 代码重构 + 内容完善

#### Added

**代码优化（重大重构）：**
- ✨ 重构代码架构（抽象基类 ContentGenerator）
- ✨ 工厂模式生成器（GENERATOR_MAP）
- ✨ Skill缓存机制（SkillLoader 单例模式）
- ✨ 流式输出支持（--stream 参数）
- ✨ API重试机制（指数退避，最多3次）
- ✨ 配置文件支持（config.yaml）
- ✨ 数据类配置（GenerationConfig、GenerationResult）
- ✨ 新增命令行参数：--model, --stream, --max-tokens, --temperature
- ✨ 新增 '自定义风格' 选项

**内容优化：**
- 📝 补充完整的8种风格详细描述（风格3-8）
- 📝 添加统一评分工具模板
- 📝 添加快速检查清单模板
- 📝 添加标题吸引力评分工具
- 🐛 修复内容错误（中文→中图文文）

#### Changed

**代码变更：**
- 🔄 版本号：3.0.0 → 3.1.0
- 🔄 代码行数：538行 → 872行（+62%）
- 🔄 异常类统一（ViralContentError 基类）
- 🔄 生成结果返回详细信息（tokens_used、duration、truncated）

**文档变更：**
- 🔄 skill_v3.0.md 版本升级到 v3.1
- 🔄 新增实用工具模板章节

#### Technical Details

**新增类：**
- `SkillLoader` - 单例模式，支持缓存和热重载
- `ContentGenerator` - 抽象基类
- `OpenAIGenerator` / `ClaudeGenerator` / `GeminiGenerator` - 具体实现
- `GenerationConfig` - 配置数据类
- `GenerationResult` - 结果数据类

**新增功能：**
- 流式输出（OpenAI、Claude）
- 自动重试（指数退避）
- Token统计
- 截断检测
- 元数据注入（生成时间、工具版本）

---

## [3.0.0] - 2026-01-28

### 🎉 Major Update - 全平台内容创作系统

#### Added

**核心模块：**
- ✨ 用户决策4次判断模型（前3秒/句、前20秒/行、完整内容、看完之后）
- ✨ 用户注意力管理系统（3个注意力层次）
- ✨ 信任建立系统（5个信任层次）
- ✨ 平台推荐适配系统（推流3阶段）
- ✨ 多平台内容矩阵（一鱼多吃策略）
- ✨ 短视频创作模块（完整脚本创作流程）

**平台支持：**
- 📝 图文平台：公众号、知乎、小红书、微博
- 🎬 短视频平台：抖音、快手、视频号
- 📺 长视频平台：B站、YouTube、西瓜视频
- 🎙️ 音频平台：播客、喜马拉雅、荔枝FM

**工具与功能：**
- 🔧 数据分析与优化系统
- 📊 关键数据指标追踪
- 🎯 冷启动优化策略
- 📈 完播率优化技巧
- 💬 互动率优化方法

**文档：**
- 📚 完整的使用示例（短视频脚本、长文创作）
- 🎓 高级技巧指南（3个核心技巧）
- ❓ 常见问题与解决方案（4个常见问题）
- 📖 平台差异化策略（8大平台）

#### Changed

**升级内容：**
- 🔄 创作流程升级（新增4次判断检查）
- 🔄 质量检查升级（新增平台适配检查）
- 🔄 爆款要素检查升级（从7项到15项）
- 🔄 大纲生成升级（新增4次判断预判）

**优化内容：**
- ⚡ 简化创作流程，提高效率
- ⚡ 优化评分标准，更加科学
- ⚡ 增强实战指导，更加落地

#### Enhanced

**方法论增强：**
- 📈 HKR模型与4次判断模型融合
- 📈 选题三要素模型保持并优化
- 📈 内容层次金字塔扩展到多平台

**文件大小：**
- 📦 从16KB增加到45KB（+181%）
- 📦 内容更丰富，价值更高

---

## [2.0.0] - 2026-01-20

### Added

**风格系统：**
- ✨ 8种预设风格（老司机、专业导师、故事叙述、数据分析、反常识、清单工具、对话问答、诗意哲思）
- ✨ 自定义风格系统（20+参数可调）
- ✨ 风格混合功能

**场景化模板：**
- 📝 经验分享类模板
- 📝 方法论类模板
- 📝 观点评论类模板
- 📝 产品评测类模板
- 📝 趋势分析类模板

**创作流程：**
- 🔄 5阶段创作流程（选题分析、大纲生成、内容创作、质量检查、优化迭代）
- 📊 HKR质量模型
- 🎯 爆款要素检查表

**文档：**
- 📚 完整使用手册
- 🎨 风格配置模板
- 🚀 快速参考卡
- 🌐 跨平台使用指南

---

## [1.0.0] - 2025-12-01

### Added

**初始版本：**
- ✨ 基础创作流程
- ✨ HKR质量模型
- ✨ 选题三要素模型
- ✨ 基础风格系统
- 📚 基础文档

---

## 版本对比

| 功能 | v1.0 | v2.0 | v3.0 | v3.1 |
|------|------|------|------|------|
| 核心模块 | 3个 | 4个 | 10个 | 10个+优化 |
| 风格系统 | 基础 | 8种 | 8种 | 8种完整 |
| 平台支持 | 图文 | 图文 | 全平台 | 全平台 |
| 场景模板 | 无 | 5个 | 8个 | 8个 |
| 数据分析 | 无 | 无 | 完整 | 完整 |
| 代码架构 | 简单 | 简单 | 简单 | 重构 |
| 流式输出 | 无 | 无 | 无 | ✅ |
| 重试机制 | 无 | 无 | 无 | ✅ |
| 文件大小 | 8KB | 16KB | 45KB | 48KB |

---

## 未来规划

### [3.1.0] - 计划中

**AI辅助创作：**
- 🤖 AI自动生成大纲
- 🤖 AI优化建议
- 🤖 AI数据分析

**自动化工具：**
- ⚙️ 批量内容生成
- ⚙️ 自动发布工具
- ⚙️ 数据自动追踪

### [3.2.0] - 计划中

**团队协作：**
- 👥 多人协作功能
- 👥 内容审核流程
- 👥 权限管理系统

**内容管理：**
- 📁 内容库管理
- 📁 素材库管理
- 📁 模板库管理

### [3.3.0] - 计划中

**商业化模块：**
- 💰 变现策略指南
- 💰 转化漏斗优化
- 💰 客户管理系统

**案例库：**
- 📖 100+实战案例
- 📖 行业最佳实践
- 📖 失败案例分析

---

## 贡献者

感谢所有为这个项目做出贡献的人！

- [@Sunnyeung369](https://github.com/Sunnyeung369) - 核心开发
- 以及所有提供反馈和建议的用户

---

## 链接

- [GitHub仓库](https://github.com/Sunnyeung369/viral-content-generator)
- [问题反馈](https://github.com/Sunnyeung369/viral-content-generator/issues)
- [讨论区](https://github.com/Sunnyeung369/viral-content-generator/discussions)

---

**注：** 版本号遵循[语义化版本](https://semver.org/)规范
